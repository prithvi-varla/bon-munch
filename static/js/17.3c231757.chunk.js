(this["webpackJsonpbon-munch"]=this["webpackJsonpbon-munch"]||[]).push([[17],{273:function(e,t,a){"use strict";a.d(t,"h",(function(){return u})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return d})),a.d(t,"f",(function(){return f})),a.d(t,"g",(function(){return h})),a.d(t,"e",(function(){return g})),a.d(t,"d",(function(){return b}));var n,l,i=a(0),r=a.n(i),s=a(421),o=a(422),c=a(449),u=function(e){return e?void 0:"Required"},m=(n=15,l=18,function(e){return e&&e<l?"Must be at least ".concat(l):void 0}),p=function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"Invalid email address":void 0},d=function(e){return e&&/.+@aol\.com/.test(e)?"Really? You still use AOL for your email?":void 0},f=function(e){var t=e.input,a=e.label,n=e.type,l=e.htmlFor,i=e.meta,c=i.touched,u=i.error,m=i.warning;return r.a.createElement("div",{className:"form-valid"},r.a.createElement(s.a,{htmlFor:l},a),r.a.createElement(o.a,Object.assign({},t,{placeholder:a,type:n})),c&&(u&&r.a.createElement("span",null," ",u)||m&&r.a.createElement("span",null," ",m)))},h=function(e){var t=e.input,a=e.label,n=e.type,l=e.htmlFor,i=e.optionValues,c=e.meta,u=c.touched,m=c.error,p=c.warning;return r.a.createElement("div",{className:"form-valid"},r.a.createElement(s.a,{htmlFor:l},a),r.a.createElement(o.a,Object.assign({},t,{placeholder:a,type:n}),i),u&&(m&&r.a.createElement("span",null," ",m)||p&&r.a.createElement("span",null," ",p)))},g=function(e){var t=e.input,a=e.label,n=e.type,l=e.meta,i=l.touched,s=l.error,c=l.warning;return r.a.createElement("div",{className:"form-valid"},r.a.createElement(o.a,Object.assign({},t,{placeholder:a,type:n})),i&&(s&&r.a.createElement("span",null," ",s)||c&&r.a.createElement("span",null," ",c)))},b=function(e){var t=e.input,a=e.label,n=e.type,l=e.className,i=e.id,s=e.meta;s.touched,s.error,s.warning;return r.a.createElement("div",{className:"form-valid"},r.a.createElement(c.a,Object.assign({},t,{className:l,type:n,label:a,id:i})))}},276:function(e,t,a){"use strict";var n=a(5),l=a(6),i=a(11),r=a(0),s=a.n(r),o=a(10),c=a(22),u=a(1),m=a.n(u),p=a(7),d=a.n(p),f=a(2),h=a(48),g={children:m.a.node,className:m.a.string,closeClassName:m.a.string,closeAriaLabel:m.a.string,cssModule:m.a.object,color:m.a.string,fade:m.a.bool,isOpen:m.a.bool,toggle:m.a.func,tag:f.q,transition:m.a.shape(h.a.propTypes),innerRef:m.a.oneOfType([m.a.object,m.a.string,m.a.func])},b={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:Object(c.a)({},h.a.defaultProps,{unmountOnExit:!0})};function v(e){var t=e.className,a=e.closeClassName,l=e.closeAriaLabel,i=e.cssModule,r=e.tag,u=e.color,m=e.isOpen,p=e.toggle,g=e.children,b=e.transition,v=e.fade,O=e.innerRef,E=Object(o.a)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),j=Object(f.m)(d()(t,"alert","alert-"+u,{"alert-dismissible":p}),i),y=Object(f.m)(d()("close",a),i),N=Object(c.a)({},h.a.defaultProps,{},b,{baseClass:v?b.baseClass:"",timeout:v?b.timeout:0});return s.a.createElement(h.a,Object(n.a)({},E,N,{tag:r,className:j,in:m,role:"alert",innerRef:O}),p?s.a.createElement("button",{type:"button",className:y,"aria-label":l,onClick:p},s.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,g)}v.propTypes=g,v.defaultProps=b;var O=v,E=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={isOpen:!0},a.toggle=a.toggle.bind(Object(l.a)(a)),a}Object(i.a)(t,e);var a=t.prototype;return a.toggle=function(){this.setState({isOpen:!this.state.isOpen})},a.render=function(){return s.a.createElement(O,Object(n.a)({isOpen:this.state.isOpen,toggle:this.toggle},this.props))},t}(r.Component);t.a=E},450:function(e,t,a){"use strict";a.r(t);var n=a(16),l=a(15),i=a(17),r=a(18),s=a(6),o=a(19),c=a(0),u=a.n(c),m=a(14),p=a(63),d=a(276),f=a(275),h=a(278),g=a(426),b=a(87),v=a(88),O=a(440),E=a(439),j=a(423),y=a(424),N=a(121),I=a(273),S=["image/jpeg","image/tiff","image/png"],A=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).handleSubmitForm.bind(Object(s.a)(a)),a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"handleSubmitForm",value:function(e,t){var a=new FormData,n=this.uploadInput.files[0];a.append("files",n),0!=this.uploadInput.files.length&&n.size<"5000000"&&S.includes(n.type)?this.props.actionSubmit(a,e.imageName):this.props.validateUpload()}},{key:"cancelAddImage",value:function(e){this.props.history.push("/"+this.props.returnPage)}},{key:"render",value:function(){var e=this,t=this.props,a=t.handleSubmit,n=(t.pristine,t.reset,t.initialValues),l=t.submitting;return null!=n?u.a.createElement(j.a,{onSubmit:a(this.handleSubmitForm.bind(this))},u.a.createElement(y.a,null,u.a.createElement(O.a,{name:"imageName",type:"name",id:"imageName",htmlFor:"imageName",component:I.f,label:"Image Name",validate:[I.h]})),u.a.createElement(y.a,null,u.a.createElement("input",{ref:function(t){e.uploadInput=t},type:"file"}),u.a.createElement("span",null,"(only files .jpeg/.tiff/.png are supported.)")),u.a.createElement(N.a,{color:"primary",className:"mt-1",type:"submit",disabled:l},"Save"),u.a.createElement(N.a,{size:"sm",color:"link",className:"btn-link-primary",onClick:this.cancelAddImage.bind(this)},"Cancel")):null}}]),t}(u.a.Component),P=Object(E.a)({form:"galleryForm"})(A),k=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={imagePreviewUrl:null,file:Blob,uploadStatus:!1,fromPage:null,failureMesg:!1,isOpen:!0,timer:null},a.handleUploadData=a.handleUploadData.bind(Object(s.a)(a)),a.validateUploadData=a.validateUploadData.bind(Object(s.a)(a)),a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"handleUploadData",value:function(e,t){var a=this,n="Gallery"==this.state.fromPage?"GALLERY":"LANDING_PAGE";this.props.saveImage(e,n,t),this.setState({uploadStatus:!0}),setTimeout((function(){a.props.history.push("/"+a.state.fromPage,{state:"success"})}),8e3)}},{key:"validateUploadData",value:function(){var e=this;this.setState({failureMesg:!0});var t=setTimeout((function(){e.setState({isOpen:!1})}),3e3);this.setState({timer:t}),this.state.isOpen=!0}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.timer)}},{key:"render",value:function(){var e,t=this.props.location.state;if(void 0!=t&&(this.state.fromPage=t.fromPage),this.state.failureMesg&&(e=u.a.createElement(d.a,{color:"danger",isOpen:this.state.isOpen},"Upload file is off the limit (or) file type is not .jpeg/.tiff/.png;")),this.state.uploadStatus)return u.a.createElement("div",null,u.a.createElement(b.a,{title:"Add Image"}),u.a.createElement("h1",null,"Please wait .....Image Loading"),u.a.createElement(v.a,null));if(!this.state.uploadStatus){var a=Object.assign({},{name:"",password:""});return u.a.createElement(c.Fragment,null,u.a.createElement(b.a,{title:"Add Image"}),u.a.createElement(f.a,{className:"card-box mb-5"},u.a.createElement(h.a,null,e,u.a.createElement(g.a,{className:"font-weight-bold font-size-lg mb-4"},"Add New Image"),u.a.createElement(P,Object.assign({},this.props,{actionSubmit:this.handleUploadData,validateUpload:this.validateUploadData,initialValues:a,returnPage:this.state.fromPage})))))}}}]),t}(c.Component);t.default=Object(m.connect)((function(e){return{imageInfo:e.Image}}),(function(e){return{saveImage:function(t,a,n){return e(Object(p.f)(t,a,n))}}}))(k)}}]);
//# sourceMappingURL=17.3c231757.chunk.js.map