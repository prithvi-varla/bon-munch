(this["webpackJsonpbon-munch"]=this["webpackJsonpbon-munch"]||[]).push([[21],{273:function(e,t,a){"use strict";a.d(t,"h",(function(){return u})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return d})),a.d(t,"f",(function(){return h})),a.d(t,"g",(function(){return g})),a.d(t,"e",(function(){return y})),a.d(t,"d",(function(){return f}));var n,r,o=a(0),l=a.n(o),i=a(421),c=a(422),s=a(449),u=function(e){return e?void 0:"Required"},m=(n=15,r=18,function(e){return e&&e<r?"Must be at least ".concat(r):void 0}),p=function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"Invalid email address":void 0},d=function(e){return e&&/.+@aol\.com/.test(e)?"Really? You still use AOL for your email?":void 0},h=function(e){var t=e.input,a=e.label,n=e.type,r=e.htmlFor,o=e.meta,s=o.touched,u=o.error,m=o.warning;return l.a.createElement("div",{className:"form-valid"},l.a.createElement(i.a,{htmlFor:r},a),l.a.createElement(c.a,Object.assign({},t,{placeholder:a,type:n})),s&&(u&&l.a.createElement("span",null," ",u)||m&&l.a.createElement("span",null," ",m)))},g=function(e){var t=e.input,a=e.label,n=e.type,r=e.htmlFor,o=e.optionValues,s=e.meta,u=s.touched,m=s.error,p=s.warning;return l.a.createElement("div",{className:"form-valid"},l.a.createElement(i.a,{htmlFor:r},a),l.a.createElement(c.a,Object.assign({},t,{placeholder:a,type:n}),o),u&&(m&&l.a.createElement("span",null," ",m)||p&&l.a.createElement("span",null," ",p)))},y=function(e){var t=e.input,a=e.label,n=e.type,r=e.meta,o=r.touched,i=r.error,s=r.warning;return l.a.createElement("div",{className:"form-valid"},l.a.createElement(c.a,Object.assign({},t,{placeholder:a,type:n})),o&&(i&&l.a.createElement("span",null," ",i)||s&&l.a.createElement("span",null," ",s)))},f=function(e){var t=e.input,a=e.label,n=e.type,r=e.className,o=e.id,i=e.meta;i.touched,i.error,i.warning;return l.a.createElement("div",{className:"form-valid"},l.a.createElement(s.a,Object.assign({},t,{className:r,type:n,label:a,id:o})))}},315:function(e,t,a){"use strict";var n=a(5),r=a(10),o=a(0),l=a.n(o),i=a(1),c=a.n(i),s=a(7),u=a.n(s),m=a(2),p={tag:m.q,size:c.a.string,className:c.a.string,cssModule:c.a.object},d=function(e){var t=e.className,a=e.cssModule,o=e.tag,i=e.size,c=Object(r.a)(e,["className","cssModule","tag","size"]),s=Object(m.m)(u()(t,"input-group",i?"input-group-"+i:null),a);return l.a.createElement(o,Object(n.a)({},c,{className:s}))};d.propTypes=p,d.defaultProps={tag:"div"},t.a=d},451:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a(15),o=a(17),l=a(18),i=a(6),c=a(19),s=a(0),u=a.n(s),m=a(275),p=a(278),d=a(426),h=a(14),g=a(87),y=a(36),f=a(88),b=a(440),v=a(439),E=a(423),C=a(424),O=a(421),j=a(315),N=a(121),I=a(273),S=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).state={parentCategoryId:""},a.handleSubmitForm.bind(Object(i.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"handleCategoryChange",value:function(e,t){var a=e.target.value;this.setState({parentCategoryId:a})}},{key:"componentDidUpdate",value:function(){""==this.state.parentCategoryId&&null!=this.props.initialValues&&this.setState({parentCategoryId:this.props.initialValues.parentCategoryId})}},{key:"handleSubmitForm",value:function(e,t){e.parentCategoryId=this.state.parentCategoryId,this.props.actionSubmit(e)}},{key:"cancelProduct",value:function(e){this.props.history.push("/SubCategories")}},{key:"render",value:function(){var e=this,t=this.props,a=t.handleSubmit,n=(t.pristine,t.reset,t.initialValues),r=t.submitting;return null!=n?u.a.createElement(E.a,{onSubmit:a(this.handleSubmitForm.bind(this))},u.a.createElement(C.a,null,u.a.createElement(b.a,{name:"categoryName",type:"name",id:"categoryName",htmlFor:"categoryName",component:I.f,label:"Category Name",validate:[I.h]})),u.a.createElement(C.a,null,u.a.createElement(b.a,{name:"categoryDescription",type:"name",id:"categoryDescription",htmlFor:"categoryDescription",component:I.f,label:"Category Description",validate:[I.h]})),u.a.createElement(C.a,null,u.a.createElement(b.a,{name:"parentCategoryId",type:"select",id:"categorySelect",htmlFor:"categorySelect",optionValues:this.props.optionValues,onChange:function(t){return e.handleCategoryChange(t,e)},component:I.g,label:"Select",validate:[I.h]})),u.a.createElement(O.a,{htmlFor:"sortOrder"},"Sort order"),u.a.createElement(j.a,null,u.a.createElement(b.a,{name:"sortOrder",type:"number",id:"sortOrder",min:0,max:100,step:"1",component:I.e,label:"Sort order",validate:[I.h]})),u.a.createElement("br",null),u.a.createElement(C.a,null,u.a.createElement(b.a,{className:"mb-3",type:"checkbox",id:"active",name:"active",component:I.d,label:"Active"})),u.a.createElement(C.a,null,u.a.createElement(b.a,{className:"mb-3",type:"checkbox",id:"allowOnlineOrder",name:"allowOnlineOrder",component:I.d,label:"Allow Online Order"})),u.a.createElement(N.a,{color:"primary",className:"mt-1",type:"submit",disabled:r},"Save"),u.a.createElement(N.a,{size:"sm",color:"link",className:"btn-link-primary",onClick:this.cancelProduct.bind(this)},"Cancel")):null}}]),t}(u.a.Component),F=Object(v.a)({form:"subCategoryForm"})(S),k=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).state={optionValues:null,uploadStatus:!1},a.handleSubmitForm=a.handleSubmitForm.bind(Object(i.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.fetchAllCategories("CATEGORY"),setTimeout((function(){null!=e.state.categoryId&&e.props.fetchCategory(e.state.categoryId)}),100)}},{key:"handleSubmitForm",value:function(e,t){var a=this,n=null!=this.state.categoryId?"UPDATE":"CREATE";this.props.saveCategory(e,n),this.setState({uploadStatus:!0}),setTimeout((function(){a.props.history.push("/SubCategories",{state:"success"})}),2e3)}},{key:"componentDidUpdate",value:function(){if(null==this.state.optionValues&&null!=this.props.categoryInfo.data&&"FETCH_ALL"==this.props.categoryInfo.action){var e,t=[];this.props.categoryInfo.data.forEach((function(e){var a=e.categoryId,n=e.categoryMapName;return t.push({categoryId:a,categoryMapName:n})}));var a=t.filter((function(e,a){return a===t.findIndex((function(t){return t.categoryMapName===e.categoryMapName}))})).sort((function(e,t){return e<t?-1:e>t?1:0})),n=1;e=a.map((function(e){return u.a.createElement("option",{key:n++,value:e.categoryId},e.categoryMapName)})),this.setState({optionValues:e})}}},{key:"render",value:function(){var e=null;if(this.state.uploadStatus)return u.a.createElement("div",null,u.a.createElement(g.a,{title:"Category"}),u.a.createElement(f.a,null));var t=this.props.location.state;if(void 0!=t&&(this.state.categoryId=t.categoryId),null!=this.props.categoryInfo&&null!=this.props.categoryInfo.action&&"FETCH"==this.props.categoryInfo.action)e=this.props.initialValues;else{if(void 0!=this.state.categoryId)return null;e=Object.assign({},{name:"",password:""})}return u.a.createElement(s.Fragment,null,u.a.createElement(g.a,{title:"New Category"}),u.a.createElement(m.a,{className:"card-box mb-5"},u.a.createElement(p.a,null,u.a.createElement(d.a,{className:"font-weight-bold font-size-lg mb-4"},"New Category"),u.a.createElement(F,Object.assign({},this.props,{optionValues:this.state.optionValues,actionSubmit:this.handleSubmitForm,initialValues:e})))))}}]),t}(u.a.Component);t.default=Object(h.connect)((function(e){return{initialValues:e.Categories.data,categoryInfo:e.Categories}}),(function(e){return{saveCategory:function(t,a){return e(Object(y.k)(t,a))},fetchCategory:function(t){return e(Object(y.j)(t))},fetchAllCategories:function(t){return e(Object(y.i)(t))}}}))(k)}}]);
//# sourceMappingURL=21.ff3afcd0.chunk.js.map