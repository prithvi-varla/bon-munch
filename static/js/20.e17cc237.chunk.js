(this["webpackJsonpbon-munch"]=this["webpackJsonpbon-munch"]||[]).push([[20],{273:function(e,t,a){"use strict";a.d(t,"h",(function(){return u})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return d})),a.d(t,"f",(function(){return h})),a.d(t,"g",(function(){return b})),a.d(t,"e",(function(){return g})),a.d(t,"d",(function(){return f}));var n,r,c=a(0),o=a.n(c),l=a(421),i=a(422),s=a(449),u=function(e){return e?void 0:"Required"},m=(n=15,r=18,function(e){return e&&e<r?"Must be at least ".concat(r):void 0}),p=function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"Invalid email address":void 0},d=function(e){return e&&/.+@aol\.com/.test(e)?"Really? You still use AOL for your email?":void 0},h=function(e){var t=e.input,a=e.label,n=e.type,r=e.htmlFor,c=e.meta,s=c.touched,u=c.error,m=c.warning;return o.a.createElement("div",{className:"form-valid"},o.a.createElement(l.a,{htmlFor:r},a),o.a.createElement(i.a,Object.assign({},t,{placeholder:a,type:n})),s&&(u&&o.a.createElement("span",null," ",u)||m&&o.a.createElement("span",null," ",m)))},b=function(e){var t=e.input,a=e.label,n=e.type,r=e.htmlFor,c=e.optionValues,s=e.meta,u=s.touched,m=s.error,p=s.warning;return o.a.createElement("div",{className:"form-valid"},o.a.createElement(l.a,{htmlFor:r},a),o.a.createElement(i.a,Object.assign({},t,{placeholder:a,type:n}),c),u&&(m&&o.a.createElement("span",null," ",m)||p&&o.a.createElement("span",null," ",p)))},g=function(e){var t=e.input,a=e.label,n=e.type,r=e.meta,c=r.touched,l=r.error,s=r.warning;return o.a.createElement("div",{className:"form-valid"},o.a.createElement(i.a,Object.assign({},t,{placeholder:a,type:n})),c&&(l&&o.a.createElement("span",null," ",l)||s&&o.a.createElement("span",null," ",s)))},f=function(e){var t=e.input,a=e.label,n=e.type,r=e.className,c=e.id,l=e.meta;l.touched,l.error,l.warning;return o.a.createElement("div",{className:"form-valid"},o.a.createElement(s.a,Object.assign({},t,{className:r,type:n,label:a,id:c})))}},315:function(e,t,a){"use strict";var n=a(5),r=a(10),c=a(0),o=a.n(c),l=a(1),i=a.n(l),s=a(7),u=a.n(s),m=a(2),p={tag:m.q,size:i.a.string,className:i.a.string,cssModule:i.a.object},d=function(e){var t=e.className,a=e.cssModule,c=e.tag,l=e.size,i=Object(r.a)(e,["className","cssModule","tag","size"]),s=Object(m.m)(u()(t,"input-group",l?"input-group-"+l:null),a);return o.a.createElement(c,Object(n.a)({},i,{className:s}))};d.propTypes=p,d.defaultProps={tag:"div"},t.a=d},445:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a(15),c=a(17),o=a(18),l=a(6),i=a(19),s=a(0),u=a.n(s),m=a(275),p=a(278),d=a(426),h=a(14),b=a(87),g=a(37),f=a(36),y=a(88),v=a(440),E=a(439),N=a(423),O=a(424),j=a(421),I=a(315),M=a(5),S=a(10),C=a(1),P=a.n(C),k=a(7),F=a.n(k),w=a(2),A={tag:w.q,className:P.a.string,cssModule:P.a.object},T=function(e){var t=e.className,a=e.cssModule,n=e.tag,r=Object(S.a)(e,["className","cssModule","tag"]),c=Object(w.m)(F()(t,"input-group-text"),a);return u.a.createElement(n,Object(M.a)({},r,{className:c}))};T.propTypes=A,T.defaultProps={tag:"span"};var V=T,x={tag:w.q,addonType:P.a.oneOf(["prepend","append"]).isRequired,children:P.a.node,className:P.a.string,cssModule:P.a.object},q=function(e){var t=e.className,a=e.cssModule,n=e.tag,r=e.addonType,c=e.children,o=Object(S.a)(e,["className","cssModule","tag","addonType","children"]),l=Object(w.m)(F()(t,"input-group-"+r),a);return"string"===typeof c?u.a.createElement(n,Object(M.a)({},o,{className:l}),u.a.createElement(V,{children:c})):u.a.createElement(n,Object(M.a)({},o,{className:l,children:c}))};q.propTypes=x,q.defaultProps={tag:"div"};var z=q,R=a(121),D=a(273),L=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).state={categoryId:"",productCategoryMapName:""},a.handleSubmitForm.bind(Object(l.a)(a)),a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"handleCategoryChange",value:function(e,t){var a=e.target.value,n=this.props.categoryInfo.data,r="";n.map((function(t){t.categoryId==e.target.value&&(r=t.categoryMapName)})),this.setState({categoryId:a,productCategoryMapName:r})}},{key:"componentDidUpdate",value:function(){""==this.state.categoryId&&null!=this.props.initialValues&&this.setState({categoryId:this.props.initialValues.categoryId,productCategoryMapName:this.props.initialValues.productCategoryMapName})}},{key:"handleSubmitForm",value:function(e,t){e.categoryId=this.state.categoryId,e.productCategoryMapName=this.state.productCategoryMapName,this.props.actionSubmit(e)}},{key:"cancelProduct",value:function(e){this.props.history.push("/Products")}},{key:"render",value:function(){var e=this,t=this.props,a=t.handleSubmit,n=(t.pristine,t.reset,t.initialValues),r=t.submitting;return null!=n?u.a.createElement(N.a,{onSubmit:a(this.handleSubmitForm.bind(this))},u.a.createElement(O.a,null,u.a.createElement(v.a,{name:"name",type:"name",id:"name",htmlFor:"productName",component:D.f,label:"Product Name",validate:[D.h]})),u.a.createElement(O.a,null,u.a.createElement(v.a,{name:"description",type:"name",id:"description",htmlFor:"description",component:D.f,label:"Description",validate:[D.h]})),u.a.createElement(O.a,null,u.a.createElement(v.a,{name:"categoryId",type:"select",id:"categorySelect",htmlFor:"categorySelect",optionValues:this.props.optionValues,onChange:function(t){return e.handleCategoryChange(t,e)},component:D.g,label:"Select",validate:[D.h]})),u.a.createElement(j.a,{htmlFor:"productPrice"},"Price"),u.a.createElement(I.a,null,u.a.createElement(z,{addonType:"prepend"},"$"),u.a.createElement(v.a,{name:"price",type:"number",id:"price",min:0,max:100,step:"1",component:D.e,label:"Price",validate:[D.h]})),u.a.createElement("br",null),u.a.createElement(O.a,null,u.a.createElement(v.a,{className:"mb-3",type:"checkbox",id:"active",name:"active",component:D.d,label:"Active"})),u.a.createElement(O.a,null,u.a.createElement(v.a,{className:"mb-3",type:"checkbox",id:"spicy",name:"spicy",component:D.d,label:"Spicy"})),u.a.createElement(O.a,null,u.a.createElement(v.a,{className:"mb-3",type:"checkbox",id:"vegetarian",name:"vegetarian",component:D.d,label:"Vegetarian ?"})),u.a.createElement(O.a,null,u.a.createElement(v.a,{className:"mb-3",type:"checkbox",id:"allowOnlineOrder",name:"allowOnlineOrder",component:D.d,label:"Allow Online Order"})),u.a.createElement(R.a,{color:"primary",className:"mt-1",type:"submit",disabled:r},"Save"),u.a.createElement(R.a,{size:"sm",color:"link",className:"btn-link-primary",onClick:this.cancelProduct.bind(this)},"Cancel")):null}}]),t}(u.a.Component),Z=Object(E.a)({form:"productForm"})(L),J=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).state={uploadStatus:!1},a.handleSubmitForm=a.handleSubmitForm.bind(Object(l.a)(a)),a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){null!=this.state.productId&&this.props.fetchProduct(this.state.productId),this.props.fetchAllCategories("ALL_CATEGORIES")}},{key:"handleSubmitForm",value:function(e,t){var a=this,n=null!=this.state.productId?"UPDATE":"CREATE";this.props.saveProduct(e,n),this.setState({uploadStatus:!0}),setTimeout((function(){a.props.history.push("/Products",{state:"success"})}),3e3)}},{key:"render",value:function(){var e=null,t=null;if(this.state.uploadStatus)return u.a.createElement("div",null,u.a.createElement(b.a,{title:"Products"}),u.a.createElement(y.a,null));var a=this.props.location.state;if(void 0!=a&&(this.state.productId=a.productId),null!=this.props.productInfo&&null!=this.props.productInfo.action&&"FETCH"==this.props.productInfo.action)t=this.props.initialValues;else{if(void 0!=this.state.productId)return null;t=Object.assign({},{name:"",password:""})}if(null!=this.props.categoryInfo.data){var n=[];this.props.categoryInfo.data.forEach((function(e){var t=e.categoryId,a=e.categoryMapName;return n.push({categoryId:t,categoryMapName:a})}));var r=n.filter((function(e,t){return t===n.findIndex((function(t){return t.categoryMapName===e.categoryMapName}))})).sort((function(e,t){return e.categoryMapName<t.categoryMapName?-1:e.categoryMapName>t.categoryMapName?1:0})),c=1;e=r.map((function(e){return u.a.createElement("option",{key:c++,value:e.categoryId},e.categoryMapName)}))}return u.a.createElement(s.Fragment,null,u.a.createElement(b.a,{title:"New Product"}),u.a.createElement(m.a,{className:"card-box mb-5"},u.a.createElement(p.a,null,u.a.createElement(d.a,{className:"font-weight-bold font-size-lg mb-4"},"New Product"),u.a.createElement(Z,Object.assign({},this.props,{optionValues:e,actionSubmit:this.handleSubmitForm,initialValues:t})))))}}]),t}(u.a.Component);t.default=Object(h.connect)((function(e){return{initialValues:e.Product.data,productInfo:e.Product,categoryInfo:e.Categories}}),(function(e){return{saveProduct:function(t,a){return e(Object(g.k)(t,a))},fetchProduct:function(t){return e(Object(g.i)(t))},fetchAllCategories:function(t){return e(Object(f.i)(t))}}}))(J)}}]);
//# sourceMappingURL=20.e17cc237.chunk.js.map