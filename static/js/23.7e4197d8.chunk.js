(this["webpackJsonpbon-munch"]=this["webpackJsonpbon-munch"]||[]).push([[23],{428:function(e,t,a){"use strict";a.r(t);var n=a(16),l=a(15),s=a(17),c=a(18),i=a(6),r=a(19),o=a(0),m=a.n(o),d=a(14),u=a(88),p=a(87),h=a(63),g=a(29),E=a(276),f=a(121),v=a(399),b=a(394),O=a(395),N=a(396),k=a(286),y=a(275),I=a(443),M=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).nextPage=function(){a.setState({pageNumber:a.state.pageNumber+1},(function(){a.getProucts()}))},a.onChange=function(){a.setState({pageNumber:a.state.pageNumber+1},(function(){a.getProucts()}))},a.state={loading:!1,products:[],pageNumber:0,totalPages:0,totalProducts:0,modal:!1,isOpen:!1,timer:null},a.handleOpenModal=a.handleOpenModal.bind(Object(i.a)(a)),a.handleCloseModal=a.handleCloseModal.bind(Object(i.a)(a)),a.addImage=a.addImage.bind(Object(i.a)(a)),a}return Object(r.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.fetchAllImages("LANDING_PAGE");var t=setTimeout((function(){e.setState({isOpen:!1})}),3e3);this.setState({timer:t}),this.state.isOpen=!0}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.timer)}},{key:"handleOpenModal",value:function(){this.setState({modal:!this.state.modal})}},{key:"handleCloseModal",value:function(){this.setState({modal:!1})}},{key:"addImage",value:function(){this.props.history.push("/AddImage",{fromPage:"LandingPage"})}},{key:"deleteButton",value:function(e){var t=this;this.props.deleteImage(e.currentTarget.id,"LANDING_PAGE"),this.handleCloseModal();var a=setTimeout((function(){t.setState({isOpen:!1})}),3e3);this.setState({timer:a}),this.state.isOpen=!0}},{key:"render",value:function(){var e,t,a,n,l=this,s=this.props.imageInfo.images,c=this.props.location.state;if(void 0==s)return m.a.createElement("div",null,m.a.createElement(p.a,{title:"LandingPage"}),m.a.createElement(u.a,null));void 0!=c&&(e=m.a.createElement(E.a,{color:"success",isOpen:this.state.isOpen},"Landing page image is successfully saved/deleted."));var i=s.map((function(e){return m.a.createElement("div",{className:"product-item",key:e.id},m.a.createElement("div",null,m.a.createElement("img",{src:e.srcUrl}),m.a.createElement("p",null,e.name)),m.a.createElement("div",{className:"image-actions"},m.a.createElement(f.a,{id:e.id,className:"remove",onClick:l.handleOpenModal},"\xd7"),m.a.createElement(v.a,{zIndex:2e3,centered:!0,isOpen:l.state.modal,toggle:l.handleOpenModal},m.a.createElement(b.a,{toggle:l.handleOpenModal},"Delete Warning"),m.a.createElement(O.a,null,m.a.createElement("p",null,"Are you sure you want to delete the image ?")),m.a.createElement(N.a,null,m.a.createElement(f.a,{color:"link",className:"btn-link-dark",onClick:l.handleOpenModal},"Close")," ",m.a.createElement(f.a,{id:e.id,color:"primary",className:"ml-auto",onClick:l.deleteButton.bind(l)},"DELETE")))))}));return n=s.map((function(e,t){return{src:e.srcUrl,altText:e.name,caption:e.name,header:e.name,key:t}})),s.length>0&&(t=m.a.createElement(k.a,{className:"carousel-width"},m.a.createElement(y.a,{className:"mt-5 mt-xl-0"},m.a.createElement("div",{className:"p-3"},m.a.createElement(I.a,{items:n}))))),s.length<6&&(a=m.a.createElement(y.a,{className:"card-box mb-4 pt-4 pb-2"},m.a.createElement("div",{className:"app-wrapper-image"},m.a.createElement("div",{className:"products-container landing-add-item"},m.a.createElement("div",{className:"product-item",key:"123"},m.a.createElement("p",null,"Add Item"),m.a.createElement("label",{htmlFor:"single"},m.a.createElement(g.a,{icon:["fa","plus-circle"],className:"font-size-xxxl symbol-style",onClick:this.addImage})))),m.a.createElement("div",{className:"products-container"},s.length>0&&i)))),m.a.createElement(o.Fragment,null,m.a.createElement(p.a,{title:"Gallery"}),e,a,m.a.createElement("div",{className:"image-divider my-4"}),t)}}]),t}(m.a.Component);t.default=Object(d.connect)((function(e){return{imageInfo:e.Image}}),(function(e){return{fetchAllImages:function(t){return e(Object(h.e)(t))},deleteImage:function(t,a){return e(Object(h.d)(t,a))}}}))(M)}}]);
//# sourceMappingURL=23.7e4197d8.chunk.js.map